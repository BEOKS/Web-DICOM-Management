# Dicom Service Management Project
[![Deployment](https://github.com/BEOKS/DicomProject/actions/workflows/deployment.dev.yml/badge.svg?branch=BEOKS-patch-1)](https://github.com/BEOKS/DicomProject/actions/workflows/deployment.dev.yml)
## :dart: Objective
Dicom ì˜ë£Œ ì˜ìƒ ë°ì´í„°ë¥¼ ì €ì¥, ê´€ë¦¬í•˜ë©° ì‹œê°í™” ê¸°ëŠ¥ê³¼ ë¨¸ì‹ ëŸ¬ë‹ ê°œë°œì„ ì§€ì›í•˜ëŠ” SWê°œë°œ
## :bar_chart: Success metrics
ì˜ë£Œë°ì´í„° ê´€ë¦¬ ë° ì‹œê°í™” ì§€ì› ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì—¬ v1.0 ë°°í¬ë¥¼ ëª©í‘œë¡œ í•œë‹¤.(option ì œì™¸)
## ğŸ—ï¸Architecture
![Untitled Diagram drawio (1)](https://user-images.githubusercontent.com/30094719/161770002-ca0c89f8-defa-4a40-9acd-4ecb48f56469.png)
1. Base Client : ê³„ì •ê´€ë¦¬, Dicomë°ì´í„° ì—…ë¡œë“œ, ë‹¤ìš´ë¡œë“œ ê·¸ë¦¬ê³  ë¨¸ì‹ ëŸ¬ë‹ ì§€ì› ë“± ì „ì²´ì ì¸ ì‚¬ìš©ì ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.
2. DicomViewer : Base Clientì— ì˜í•´ í˜¸ì¶œë˜ë©° Dicom íŒŒì¼ ì‹œê°í™”ë¥¼ ì§€ì›í•˜ëŠ”  í´ë¼ì´ì–¸íŠ¸ì´ë‹¤.
3. MiddleWare : í´ë¼ì´ì–¸íŠ¸ì™€ ë°ì´í„°ë² ì´ìŠ¤, ì„œë²„ ì‚¬ì´ì˜ ìš”ì²­ì„ ì²˜ë¦¬í•œë‹¤.
4. Dicom Server :  Dicom ë°ì´í„°ë¥¼ ì €ì¥í•˜ë©° Dicom Web í‘œì¤€ í”„ë¡œí† ì½œì„ í†µí•´ Dicom ë°ì´í„°ë¥¼ ì†¡ìˆ˜ì‹ í•œë‹¤.
5. Database : Dicom ë©”íƒ€ë°ì´í„° ë° ê³„ì •ì •ë³´ ë“± ì‚¬ìš©ì ê¸°ëŠ¥ì„ ì§€ì›í•˜ê¸° ìœ„í•œ ë°ì´í„°ë¥¼ ì €ì¥í•œë‹¤.
6. TorchServer : Dicom ì´ë¯¸ì§€ë¥¼ í†µí•œ ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ì„ í•™ìŠµ, ì¶”ë¡  ê¸°ëŠ¥ì„ ì§€ì›í•œë‹¤.
7. docker compose : ê° ì„œë²„ëŠ” ë„ì»¤ë¡œ ì‹¤í–‰ë˜ë©° docker composeëŠ” ì´ë¥¼ í†µí•© ê´€ë¦¬í•œë‹¤.
## Usage
### Prerequirement
1. ìµœì‹  ë²„ì „ì˜ ë„ì»¤ë¥¼ ì„¤ì¹˜í•´ì£¼ì„¸ìš”. (docker-composeëŠ” v2 ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜ë˜ì–´ì•¼ í•©ë‹ˆë‹¤, ë¦¬ëˆ…ìŠ¤ì˜ ê²½ìš° ê°„í˜¹ v1ìœ¼ë¡œ ì„¤ì¹˜ë˜ë¯€ë¡œ ì—…ë°ì´íŠ¸ê°€ í•„ìš”í•©ë‹ˆë‹¤.)
2. java SDK (version. 17.0.1)ì„ ì„¤ì¹˜í•©ë‹ˆë‹¤. (ì„¤ì¹˜í•˜ì§€ ì•Šì„ ê²½ìš° spring í”„ë¡œì íŠ¸ íŒŒì¼ì´ ì •ìƒì ìœ¼ë¡œ ì‹¤í–‰ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.)
3. Node.js ê°€ ì„¤ì¹˜ë˜ì–´ ìˆì§€ ì•Šë‹¤ë©´ v16.6.1ë²„ì „ìœ¼ë¡œ ì„¤ì¹˜í•´ì•¼ í•©ë‹ˆë‹¤.
4. ìµœì‹  ë²„ì „ì˜ [yarn](https://classic.yarnpkg.com/lang/en/docs/install/#windows-stable)ì„ ì„¤ì¹˜í•´ì£¼ì„¸ìš”.

### Install Project
ì„¤ì¹˜ì˜ ê²½ìš° í”„ë¡œì íŠ¸ë¥¼ ë‹¤ìš´ë¡œë“œ í•œ í›„, í•œë²ˆë§Œ ì‹¤í–‰í•˜ë©´ ë©ë‹ˆë‹¤. í”„ë¡œì íŠ¸ ì½”ë“œê°€ ê°±ì‹ ë  ê²½ìš°, ì½”ë“œë¥¼ ë°˜ì˜í•˜ê¸° ìœ„í•´ì„œ ë‹¤ì‹œ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤.
#### Common
1. ì½”ë“œ ë‹¤ìš´ë¡œë“œ
```sh 
#clone all project with submodules
git clone --recurse-submodules https://github.com/BEOKS/DicomProject.git
cd DicomProject
```
2. í˜„ì¬ í”„ë¡œì íŠ¸ëŠ” êµ¬ê¸€ ë¡œê·¸ì¸ì„ ì‚¬ìš©í•˜ê³  ìˆìœ¼ë¯€ë¡œ êµ¬ê¸€ API clientIdì™€ secrect idê°€ í•„ìš”í•©ë‹ˆë‹¤. ì´ë¥¼ ë°œê¸‰ë°›ì•„ [application-oauth.yml.example](https://github.com/BEOKS/DicomProject/blob/main/server/DSMP/src/main/resources/application-oauth.yml.example)ê³¼ ê°™ì€ í˜•ì‹ì„ ì‘ì„±í•˜ì—¬ ê°™ì€ íŒŒì¼ ìœ„ì¹˜ì— application-oauth.yml íŒŒì¼ì„ ìƒì„±í•´ì•¼ í•©ë‹ˆë‹¤.
#### Window
```sh
.\install_project.sh
```
#### Mac, Linux
```sh
sudo sh install_project.sh
```
### Run Project
#### Window
```sh
run_project.sh local # run project for development, localhost:3000ì—ì„œ ì„œë¹„ìŠ¤ ì´ìš©ê°€ëŠ¥
run_project.sh prod # run project for deploy
```
#### Mac, Linux
```sh
sudo sh run_project.sh local # run project for development,localhost:3000ì—ì„œ ì„œë¹„ìŠ¤ ì´ìš©ê°€ëŠ¥
sudo sh run_project.sh prod # run project for deploy
```
> ì‹¤í–‰ ì§í›„, í´ë¼ì´ì–¸íŠ¸ ì„œë²„ê°€ ë¨¼ì € ì‹¤í–‰ë˜ëŠ” ê²½ìš° localhost:3000, localhost:3001 í˜ì´ì§€ì—ì„œ ì—ëŸ¬ê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë„ì»¤ ì„œë²„ê°€ ëª¨ë‘ ì‹¤í–‰ì™„ë£Œ ëœ í›„, ìƒˆë¡œê³ ì¹¨ì„ í•´ì£¼ì„¸ìš”
## ğŸ““ Requirements
### 1. ì˜ë£Œ ë°ì´í„° ê´€ë¦¬
Requirement | User Story | Notes | Priority
------------- | ------------- | ------------- | -------------
Dicom ì—…ë¡œë“œ, ë‹¤ìš´ë¡œë“œ í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„ | ì‚¬ìš©ìëŠ” ì›¹ UIë¥¼ í†µí•´ì„œ Dicomë°ì´í„° ì—…ë¡œë“œ, ë‹¤ìš´ë¡œë“œë¥¼ ìš”ì²­ í•  ìˆ˜ ìˆë‹¤.| Reactë¥¼ ì´ìš©í•˜ì—¬ UIë¥¼ êµ¬ì„±í•˜ê³  REST APIí˜•ì‹ìœ¼ë¡œ ë¯¸ë“¤ì›¨ì„œ ì„œë²„ì— ìš”ì²­í•˜ë„ë¡í•˜ì—¬ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤| 1
Dicom ë¦¬ìŠ¤íŠ¸ ë·° ê¸°ëŠ¥ | ì‚¬ìš©ìëŠ” ì €ì¥ë˜ì–´ ìˆëŠ” Dicom ë¦¬ìŠ¤íŠ¸ë¥¼ ì›¹ UIë¥¼ í†µí•´ì„œ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. | Reactë¥¼ ì´ìš©í•˜ì—¬ UIë¥¼ êµ¬ì„±í•˜ê³  REST APIí˜•ì‹ìœ¼ë¡œ ë¯¸ë“¤ì›¨ì„œ ì„œë²„ì— ìš”ì²­í•˜ë„ë¡í•˜ì—¬ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤. | 2
í”„ë¡œì íŠ¸ë³„ ë°ì´í„° ê´€ë¦¬ | ì‚¬ìš©ìëŠ” ì›¹ UIë¥¼ í†µí•´ì„œ í”„ë¡œì íŠ¸ë³„ë¡œ ë°ì´í„°ë¥¼ ê·¸ë£¹í™” í•  ìˆ˜ ìˆìœ¼ë©° ì ‘ê·¼ê¶Œí•œì„ ì„¤ì • í•  ìˆ˜ ìˆë‹¤. | MongoDBì— ì‚¬ìš©ì ê³„ì • ì •ë³´ì™€  Dicom ë©”íƒ€ë°ì´í„°ë¥¼ ì—°ê²°í•¨ìœ¼ë¡œì¨ ì„¤ì •ì´ ê°€ëŠ¥í•˜ë‹¤. | 3
ì˜ìƒ ë°ì´í„° ì—…ë¡œë“œ, ë‹¤ìš´ë¡œë“œ í´ë¼ì´ì–¸íŠ¸ êµ¬í˜„ | ì‚¬ìš©ìëŠ” ì›¹ UIë¥¼ í†µí•´ì„œ ì˜ìƒ ë°ì´í„° ì—…ë¡œë“œ, ë‹¤ìš´ë¡œë“œë¥¼ ìš”ì²­ í•  ìˆ˜ ìˆë‹¤. | ì˜ìƒë°ì´í„°ë¥¼ ì…ë ¥ë°›ì•„ ì´ë¯¸ì§€ ìŠ¬ë¼ì´ì‹± í›„ Dicomí˜•íƒœë¡œ ë³€í™˜í•˜ì—¬ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤.(ê°€ì •) | 4(>v1.0)
### 2. ì˜ë£Œ ë°ì´í„° ì‹œê°í™” ì§€ì›
Requirement | User Story | Notes | Priority
------------- | ------------- | ------------- | -------------
Dicom íŒŒì¼ ì„ íƒ ê¸°ëŠ¥ | ì‚¬ìš©ìëŠ” ì›¹ UIì— ìˆëŠ” Dicom ë¦¬ìŠ¤íŠ¸ ë·°ì—ì„œ í•œ í–‰ì„ í´ë¦­í•˜ì—¬ í•´ë‹¹ Dicom íŒŒì¼ì„ ì‹œê°í™” í•˜ì—¬ ë³¼ ìˆ˜ ìˆë‹¤. | ê° ë¦¬ìŠ¤íŠ¸ì— OHIF ë·°ì–´ë¥¼ í˜¸ì¶œí•˜ëŠ” ë§í¬ë¥¼ ì„¤ì •í•¨ìœ¼ë¡œì¨ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤. | 1
ì¤Œ ì¸/ì•„ì›ƒ, ë“œë˜ê·¸ ë“± ê¸°ë¶„ íˆ´ êµ¬í˜„ | ì‚¬ìš©ìëŠ” ì›¹ UIë¥¼ í†µí•´ì„œ ì´ë¯¸ì§€ë¥¼ ë‹¤ë£¨ëŠ” íˆ´ì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. | OHIF ì˜¤í”ˆì†ŒìŠ¤ë¥¼ í†µí•´ì„œ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤. | 2
Segmentation ë·°ì–´ ê¸°ëŠ¥ êµ¬í˜„ | ì‚¬ìš©ìëŠ” ì›¹ UIë¥¼ í†µí•´ì„œ Dicomì— Segmentationì´ ì ìš©ëœ ì´ë¯¸ì§€ë¥¼ í™•ì¸ í•  ìˆ˜ ìˆë‹¤. | Dicom SEG íŒŒì¼ì„ orthanì„œë²„ì— ì—…ë¡œë“œ í•¨ìœ¼ë¡œì¨ êµ¬í˜„ì´ ê°€ëŠ¥í•˜ë‹¤. | 3
Annotation(ROI) ì‘ì„± ê¸°ëŠ¥ êµ¬í˜„ | ì‚¬ìš©ìëŠ” ì›¹ UIë¥¼ í†µí•´ì„œ ì´ë¯¸ì§€ ìœ„ì— Annotationì„ ì‘ì„±í•  ìˆ˜ ìˆìœ¼ë©° ì„œë²„ì— ì €ì¥ì´ ê°€ëŠ¥í•˜ë‹¤. | OHIFì—ëŠ” ê¸°ëŠ¥ì´ êµ¬í˜„ë˜ì–´ ìˆì§€ ì•Šì•„ ì¶”í›„ ê¸°ëŠ¥ êµ¬í˜„ì´ í•„ìš”í•˜ë‹¤. ì‘ì—… ë‚œì´ë„ ë˜í•œ ìƒë‹¹íˆ ë†’ë‹¤. | 4(>v1.0)

## ğŸ“– Paper
1. [Wiki](https://alpine-freezer-d6f.notion.site/DSMP-Wiki-0777d45b69124dbbb0e897ec4e7e3279)
2. [ê°œë°œ ëª…ì„¸ì„œ](https://alpine-freezer-d6f.notion.site/a15a1f59b5764c7da1c0e3fd655b3bde)
3. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì³](https://alpine-freezer-d6f.notion.site/Project-Architecture-92b2000cefc34208900ff0f2414b9127)
## Usage
1. DicomServerì˜ README.mdë¥¼ ì°¸ì¡°í•˜ì—¬ ì„œë²„ë¥¼ ì‹¤í–‰í•œë‹¤.
2. DicomClient/dicom-clinetì˜ README.md ë¥¼ ì°¸ì¡°í•˜ì—¬ í´ë¼ì´ì–¸íŠ¸ ì„œë²„ë¥¼ ì‹¤í–‰í•œë‹¤.
